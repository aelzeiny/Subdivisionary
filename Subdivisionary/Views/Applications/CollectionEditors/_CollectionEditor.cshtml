@using Subdivisionary.DAL
@using Subdivisionary.ViewModels
@model Subdivisionary.ViewModels.ListEditorViewModel

<div id="uploadDataEntries">
    @{
        int k = 0;
        var itemVm = new ListItemEditorViewModel()
        {
            Data = null,
            AddRemoveButton = false
        };
        var list = Model.GetList();
    }

    @if (Model.Count() == 0)
    {
        ViewData.TemplateInfo.HtmlFieldPrefix = CustomIFormModelBinder.ENTRY_CLASS_KEY + "0";
        @Html.Partial("CollectionEditors/_CollectionItemEditor", new ListItemEditorViewModel()
        {
            Data = Model.EmptyDataDefault,
            AddRemoveButton = false
        })
    }
    else
    {
        foreach (var obj in list)
        {
            ViewData.TemplateInfo.HtmlFieldPrefix = CustomIFormModelBinder.ENTRY_CLASS_KEY + k;
            @Html.Partial("CollectionEditors/_CollectionItemEditor", new ListItemEditorViewModel()
            {
                Data = obj,
                AddRemoveButton = k != 0
            })
            k++;
        }
    }
</div>
<button class="btn btn-primary center-block add-entry" type="button" id="addEntryData" style="margin-bottom: 60px;"><i class="fa fa-plus" aria-hidden="true"></i> Add Additional Entry</button>